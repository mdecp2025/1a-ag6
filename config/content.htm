<h1>About</h1>
<p><span>學習心得報告 (60%)</span><span> </span>- MS Teams 線上參與，<span>6人一組</span>每三週發表學習心得。</p>
<p>w3、w7、w10、w14、w17、w18</p>
<p>學習心得報告主題:</p>
<p>w3: 什麼是 git, GitHub, gist 與 cmsimde? 如何使用這些工具？為什麼要使用這些工具？ (<a href="https://mde.tw/cp2025/content/Brython.html?src=https://gist.githubusercontent.com/mdecycu/71ff1c69dd233e6a5a83dd60997950de/raw/b4134dc3724f9c6aa1de7534a74f298288de0fa5/round_dot_move.py">動態模擬</a>)</p>
<p>w7: Brython 是什麼？如何在瀏覽器配置 Brython 環境？ Brython 能做什麼？ (<a href="https://mde.tw/cp2025/content/Brython.html">Brython</a>,<span> </span><a href="https://mde.tw/cp2025/content/Robot_ex.html">Examples</a>)</p>
<p>w10: 如何在瀏覽器中模擬機器人作動？ (<a href="https://mde.tw/cp2025/content/Brython.html?src=https://gist.githubusercontent.com/mdecycu/58fed8bd2f5be98a6456a8dcae512011/raw/4019adba4ee4be19c35982d835bad8e7d83a7b2f/brython_robot4_ex1.py">機器人作動</a>)</p>
<p>w14: 在瀏覽器中模擬機器人作動的目的是什麼？ (<a href="https://mde.tw/cp2025/downloads/otto_robot.7z">otto_robot.7z</a>, <a href="https://mde.tw/cad2025/content/Homework.html">Plotter</a>, <a href="https://mde.tw/cp2025/downloads/open_duck_mini.7z">open_duck_mini.7z</a><span> </span>,<a href="https://webots.cloud/AcTNYs0">https://webots.cloud/AcTNYs0</a>)</p>
<p>w17 (<span>1b 採 Youtube 影片簡報</span>): 計算機程式課程學到了什麼？</p>
<p>w18: 課程總結</p>
<p><span>個人與分組網站維護 (40%)</span><span> </span>- 每週至少兩次推送與課程進度相關的學習內容與心得。</p>
<p>w9 期中自評、w18 期末自評...</p>
<p>
<script src="https://cdn.jsdelivr.net/pyodide/v0.26.4/full/pyodide.js"></script>
</p>
<p><button id="version">version</button> <button id="hello_button">hello</button> <button id="add1to100">1 add to 100</button> <button id="robot1">機器人巡邏</button><button id="free_walk">自由行</button> <button id="numpy_ode">numpy_ode</button></p>
<!-- Ace Editor Scripts -->
<p>
<script src="/static/ace/FileSaver.min.js"></script>
<script src="/static/ace/filereader.js"></script>
<script src="/static/ace/ace.js"></script>
<script src="/static/ace/ext-language_tools.js"></script>
<script src="/static/ace/mode-python.js"></script>
<script src="/static/ace/snippets/python.js"></script>
</p>
<!-- Editor 1 -->
<div id="kw_editor1" style="width: 600px; height: 300px;"></div>
<p><button id="kw_run1">Run</button> <button id="kw_output1">Output</button> <button id="kw_clear_console1">清除輸出區</button> <button onclick="location.reload()">Reload</button></p>
<p><textarea id="kw_console1"></textarea></p>
<div id="pyodide_div1"></div>
<div id="mpl_output1"></div>
<div id="brython_div1"></div>
<hr/>
<p>從 1 累加到 100 part2:</p>
<p><button id="add1to100part2">1 add to 100</button></p>
<!-- Editor 2 -->
<div id="kw_editor2" style="width: 600px; height: 300px;"></div>
<p><button id="kw_run2">Run</button> <button id="kw_output2">Output</button> <button id="kw_clear_console2">清除輸出區</button> <button onclick="location.reload()">Reload</button></p>
<p><textarea id="kw_console2"></textarea></p>
<div id="pyodide_div2"></div>
<h1>WH3</h1>
<h2>定義</h2>
<p data-end="140" data-start="110">git 是一套「分散式版本控制系統」，用來：</p>
<ul data-end="176" data-start="141">
<li data-end="152" data-start="141">
<p data-end="152" data-start="143">追蹤檔案的修改歷史</p>
</li>
<li data-end="163" data-start="153">
<p data-end="163" data-start="155">協助多人協作開發</p>
</li>
<li data-end="176" data-start="164">
<p data-end="176" data-start="166">可以隨時回到過去版本</p>
</li>
</ul>
<h4></h4>
<p>GitHub 是一個「git 版本庫的雲端平台」</p>
<p>gist 是 GitHub 提供的「小型 git 專案」</p>
<p data-end="1358" data-start="1342">cmsimde 是一個：結合 git + GitHub + 網頁 CMS 的「課程/專案管理系統」</p>
<table height="136" width="506">
<thead>
<tr>
<th style="width: 127.475px;">工具</th>
<th style="width: 190.8px;">角色</th>
<th style="width: 168.925px;">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="width: 127.475px;">git</td>
<td style="width: 190.8px;">核心工具</td>
<td style="width: 168.925px;">版本控制</td>
</tr>
<tr>
<td style="width: 127.475px;">GitHub</td>
<td style="width: 190.8px;">雲端平台</td>
<td style="width: 168.925px;">備份、協作</td>
</tr>
<tr>
<td style="width: 127.475px;">gist</td>
<td style="width: 190.8px;">輕量版 GitHub</td>
<td style="width: 168.925px;">小程式、筆記</td>
</tr>
<tr>
<td style="width: 127.475px;">cmsimde</td>
<td style="width: 190.8px;">整合系統</td>
<td style="width: 168.925px;">教學 + 模擬</td>
</tr>
</tbody>
</table>
<h2><span>為什麼要使用這些工具？</span></h2>
<p>因為現代學習、工程與動態模擬需要：可追蹤、可回復、可協作、可展示，而這些工具正好分工完成這四件事。</p>
<h1>WH7</h1>
<h2>Brython 是什麼？</h2>
<p data-end="226" data-start="185">Brython = Python → JavaScript（在瀏覽器執行）</p>
<ul data-end="307" data-start="228">
<li data-end="236" data-start="228">
<p data-end="236" data-start="230">不需要伺服器</p>
</li>
<li data-end="251" data-start="237">
<p data-end="251" data-start="239">不需要安裝 Python</p>
</li>
<li data-end="287" data-start="252">
<p data-end="287" data-start="254">只要瀏覽器（Chrome / Firefox / Edge 都可）</p>
</li>
<li data-end="307" data-start="288">
<p data-end="307" data-start="290">Python 程式碼在瀏覽器端執行</p>
</li>
</ul>
<h3 data-end="317" data-start="309">核心特點</h3>
<ul data-end="425" data-start="318">
<li data-end="341" data-start="318">
<p data-end="341" data-start="320">支援大部分 Python 3 語法</p>
</li>
<li data-end="357" data-start="342">
<p data-end="357" data-start="344">可直接操作 DOM</p>
</li>
<li data-end="386" data-start="358">
<p data-end="386" data-start="360">可處理 HTML / CSS / JS 事件</p>
</li>
<li data-end="410" data-start="387">
<p data-end="410" data-start="389">與 JavaScript 雙向互通</p>
</li>
<li data-end="425" data-start="411">
<p data-end="425" data-start="413">適合教學、原型、輕量前端</p>
</li>
</ul>
<h1>WH10</h1>
<h1>WH14</h1>
<h1>WH17</h1>
<h1>WH18</h1>
<div id="mpl_output2"></div>
<div id="brython_div2"></div>
<p>
<script>
function getUrlParam(key) {
  return new URLSearchParams(window.location.search).get(key);
}
function updateUrlParam(key, value) {
  const url = new URL(window.location);
  url.searchParams.set(key, value);
  window.history.replaceState({}, "", url);
}

let pyodide, editor1, editor2;

document.addEventListener("DOMContentLoaded", async () => {
  editor1 = ace.edit("kw_editor1");
  editor1.setTheme("ace/theme/chrome");
  editor1.session.setMode("ace/mode/python");

  editor2 = ace.edit("kw_editor2");
  editor2.setTheme("ace/theme/chrome");
  editor2.session.setMode("ace/mode/python");

  pyodide = await loadPyodide();
  await pyodide.loadPackage(["numpy", "scipy", "matplotlib", "micropip"]);

  // 定義 hello() 模組
  const code = `
def hello():
    print("Hello from custom module!")
`;
  pyodide.runPython(code);

  const GIST_ADD1TO100 =
    "https://gist.githubusercontent.com/mdecourse/0229a8a017091476a79700b8a190f185/raw/" +
    "c48e37714f055c3a0027cbfef59e442a6ef659b9/from_1_add_to_100_1.py";
  const NUMPY_ODE =
    "https://gist.githubusercontent.com/mdecycu/ec4bb35dd0769e7a83d2a9fa57878a67/raw/" +
    "98d582539545b3c9fbfa35dd3e605c506367618e/pyodide_ode_ex1.py";
  const PYODIDE_ROBOT_ANIMATION =
    "https://gist.githubusercontent.com/mdecycu/ec4bb35dd0769e7a83d2a9fa57878a67/raw/" +
    "f3d75d08f2b90f4470342e91ee1e5c36b5f950bf/pyodide_robot_ex1.py";
  const FREE_WALK = 
    "https://gist.githubusercontent.com/mdecycu/ec4bb35dd0769e7a83d2a9fa57878a67/raw/" + "d1659628afe5d36a026ef305dc639f6be4c9f608/pyodide_robot_ex3.py"

  const src = getUrlParam("src");
  if (src === PYODIDE_ROBOT_ANIMATION) {
    const robotCode = await fetchCode(PYODIDE_ROBOT_ANIMATION);
    editor1.setValue(robotCode, -1);
    updateUrlParam("src", PYODIDE_ROBOT_ANIMATION);
    runPyodide(editor1, "kw_console1", "brython_div1");
  } else {
    const initialCode = await fetchCode(src || GIST_ADD1TO100);
    editor1.setValue(initialCode, -1);
    runPyodide(editor1, "kw_console1", "brython_div1");
  }

  editor2.setValue("", -1);

  document.getElementById("version").onclick = () => {
    const vcode = `
import pyodide
import sys
import matplotlib
import numpy
import scipy
print("Pyodide version:", pyodide.__version__)
print("Python version :", sys.version)
print("matplotlib version:", matplotlib.__version__)
print("numpy version:", numpy.__version__)
print("scipy version:", scipy.__version__)
`;
    editor1.setValue(vcode, -1);
    updateUrlParam("src", "inline_version");
    runPyodide(editor1, "kw_console1", "brython_div1");
  };

  document.getElementById("hello_button").onclick = () => {
    editor1.setValue("hello()", -1);
    updateUrlParam("src", "inline_hello");
    runPyodide(editor1, "kw_console1", "brython_div1");
  };

  document.getElementById("add1to100").onclick = async () => {
    const c = await fetchCode(GIST_ADD1TO100);
    editor1.setValue(c, -1);
    updateUrlParam("src", GIST_ADD1TO100);
    runPyodide(editor1, "kw_console1", "brython_div1");
  };

  document.getElementById("numpy_ode").onclick = async () => {
    const c = await fetchCode(NUMPY_ODE);
    editor1.setValue(c, -1);
    updateUrlParam("src", NUMPY_ODE);
    runPyodide(editor1, "kw_console1", "brython_div1");
  };

  document.getElementById("robot1").onclick = async () => {
    const rc = await fetchCode(PYODIDE_ROBOT_ANIMATION);
    editor1.setValue(rc, -1);
    updateUrlParam("src", PYODIDE_ROBOT_ANIMATION);
    runPyodide(editor1, "kw_console1", "brython_div1");
  };

  document.getElementById("free_walk").onclick = async () => {
    const rc = await fetchCode(FREE_WALK);
    editor1.setValue(rc, -1);
    updateUrlParam("src", FREE_WALK);
    runPyodide(editor1, "kw_console1", "brython_div1");
  };

  document.getElementById("add1to100part2").onclick = async () => {
    const c = await fetchCode(GIST_ADD1TO100);
    editor2.setValue(c, -1);
    runPyodide(editor2, "kw_console2", "brython_div2");
  };

  document.getElementById("kw_run1").onclick = () =>
    runPyodide(editor1, "kw_console1", "brython_div1");
  document.getElementById("kw_run2").onclick = () =>
    runPyodide(editor2, "kw_console2", "brython_div2");
  document.getElementById("kw_clear_console1").onclick = () =>
    clearOutput("kw_console1", "brython_div1");
  document.getElementById("kw_clear_console2").onclick = () =>
    clearOutput("kw_console2", "brython_div2");
});

// 處理兩個 Output 列數
  document.getElementById("kw_output1").onclick = () => {
    const ta = document.getElementById("kw_console1");
    ta.rows = "15";
    ta.cols = "70";
    ta.scrollTop = 0;
  };
  document.getElementById("kw_output2").onclick = () => {
    const ta = document.getElementById("kw_console2");
    ta.rows = "15";
    ta.cols = "70";
    ta.scrollTop = 0;
  };

async function fetchCode(url) {
  const r = await fetch(url);
  if (!r.ok) throw new Error(`載入失敗 ${r.status}`);
  return await r.text();
}

function clearOutput(consoleId, divId) {
  document.getElementById(consoleId).value = "";
  document.getElementById(divId).innerHTML = "";
}

async function runPyodide(editor, consoleId, divId) {
  document.getElementById(consoleId).value = "";
  document.getElementById(divId).innerHTML = "";

  await pyodide.runPythonAsync(`
import sys
class JsWriter:
  def write(self, s):
    from js import document
    ta = document.getElementById("${consoleId}")
    ta.value += s
    ta.scrollTop = ta.scrollHeight
sys.stdout = JsWriter()
sys.stderr = JsWriter()
`);

  try {
    await pyodide.runPythonAsync(editor.getValue());
  } catch (e) {
    document.getElementById(consoleId).value += "\n錯誤：" + e.toString();
  }
}
</script>
</p>